<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Comment Breeze - ESL Report Card Comment Builder</title>

    <!--Angular of course-->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>

    <!--Main stylesheet and scripts-->
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script type="text/javascript" src="js/main.js?version=20160619"></script>

    <!--Material icons pack-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!--Angular Material Stuff-->
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.0.5/angular-material.min.css">
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-aria.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-animate.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angular_material/1.0.5/angular-material.min.js"></script>

    <!--Other libraries I'm using-->
    <script src="angular-clipboard/angular-clipboard.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/ngstorage/0.3.6/ngStorage.min.js"></script>

    <!--meta tags-->
    <meta name="title" content="Comment Breeze | ESL Report Card Comment Generator">
    <meta name="description" content="A web-app to help ESL teachers build report card comments. 20k+ usable comments, intelligent pattern-based generation, fast multi-student generation, powerful live search.">
    <meta name="keywords" content="report card comments, comment generator, esl comments, esl reports, esl report cards, tesol reports, comment builder">

    <!--Site thumbnail-->
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <!--Some facebook thing I think-->
    <meta property="og:url" content="http://comment-breeze.xyz" />
    <meta property="og:site_name" content="Comment Breeze" />
    <meta property="og:title" content="ESL Report Card Comment Generator" />
    <meta property="og:description" content="A web-app to help ESL teachers build report card comments. 20k+ usable comments, intelligent pattern-based generation, fast multi-student generation, powerful live search." />
    <meta property="og:image" content="http://comment-breeze.xyz/android-chrome-192x192.png" />

    <!--Uncomment this to prevent the page from caching, useful when making a lot of changes in a short time -->
    <!--<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>-->
    <!--<meta http-equiv="Pragma" content="no-cache"/>-->
    <!--<meta http-equiv="Expires" content="0"/>-->

</head>

<body ng-app="commentApp" ng-controller="CommentController" md-theme="{{ state.theme.colorTheme }}" ng-cloak>

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-72173818-1', 'auto');
        ga('send', 'pageview');
    </script>

    <md-content class="md-background md-hue-1" style="height:100%">

        <div id="toastBounds">

            <div layout="row" layout-fill>
                <md-tabs hide-xs flex md-center-tabs="true" md-dynamic-height="true" md-selected="selectedTab" class="full-width tabs-content" md-swipe-content="{{ state.settings.tabSwipe }}">
                    <md-tab md-on-select="selectTab();">
                        <md-tab-label>
                            <i class="material-icons inline-icon">comment</i>
                            Comment Breeze
                        </md-tab-label>
                    </md-tab>
                    <md-tab md-on-select="selectTab();">
                        <md-tab-label>
                            <i class="material-icons inline-icon">build</i>
                            Build
                        </md-tab-label>
                    </md-tab>
                    <md-tab md-on-select="selectTab();">
                        <md-tab-label>
                            <i class="material-icons inline-icon">extension</i>
                            Patterns
                        </md-tab-label>
                    </md-tab>
                </md-tabs>
                <md-menu class="menu">
                    <md-button ng-click="$mdOpenMenu($event);">
                        <i class="material-icons inline-icon">menu</i>
                        <span>Site Menu<span hide-gt-xs> and Navigation</span></span>
                        <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip">
                            Settings and stuff that affect the entire application
                        </md-tooltip>
                    </md-button>
                    <md-menu-content class="menu-content">
                        <md-menu-item hide-gt-xs>
                            <md-button ng-click="goToTab(tabIndexes.main_page);" class="md-primary md-hue-1" ng-disabled="selectedTab == tabIndexes.main_page">
                                <i class="material-icons inline-icon">comment</i>
                                <span>Comment Breeze Tab</span>
                            </md-button>
                            <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip">
                                Save your work to a file for backup or to continue working on it later
                            </md-tooltip>
                        </md-menu-item>
                        <md-menu-item hide-gt-xs>
                            <md-button ng-click="goToTab(tabIndexes.build);" class="md-primary md-hue-1" ng-disabled="selectedTab == tabIndexes.build">
                                <i class="material-icons inline-icon">build</i>
                                <span>Build Tab</span>
                            </md-button>
                            <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip">
                                Save your work to a file for backup or to continue working on it later
                            </md-tooltip>
                        </md-menu-item>
                        <md-menu-item hide-gt-xs>
                            <md-button ng-click="goToTab(tabIndexes.patterns);" class="md-primary md-hue-1" ng-disabled="selectedTab == tabIndexes.patterns">
                                <i class="material-icons inline-icon">extension</i>
                                <span>Patterns Tab</span>
                            </md-button>
                            <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip">
                                Save your work to a file for backup or to continue working on it later
                            </md-tooltip>
                        </md-menu-item>
                        <md-divider hide-gt-xs></md-divider>
                        <md-menu-item>
                            <md-button ng-click="saveState(); saveAnalyticsClass('Save State');" class="md-primary md-hue-1">
                                <i class="material-icons inline-icon">file_download</i>
                                <span>Save</span>
                            </md-button>
                            <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip">
                                Save your work to a file for backup or to continue working on it later
                            </md-tooltip>
                        </md-menu-item>
                        <md-menu-item>
                            <md-button choose-file-button="file-upload-input" class="md-primary md-hue-1">
                                <i class="material-icons inline-icon">file_upload</i>
                                <span>Load</span>
                            </md-button>
                        </md-menu-item>
                        <md-divider></md-divider>
                        <md-menu-item>
                            <md-button ng-click="toggleColorThemesVisibility()" class="md-primary md-hue-1">
                                <i class="material-icons inline-icon">color_lens</i>
                                <span>Themes</span>
                            </md-button>
                        </md-menu-item>
                        <md-menu-item>
                            <md-button ng-click="showDialog('/settings/settings.html');" class="md-primary md-hue-1">
                                <i class="material-icons inline-icon">settings</i>
                                <span>Settings</span>
                            </md-button>
                        </md-menu-item>
                        <md-menu-item>
                            <md-button ng-click="showDialog('help/site-help.html');" class="md-primary md-hue-1">
                                <i class="material-icons inline-icon">help</i>
                                <span>Help</span>
                            </md-button>
                        </md-menu-item>
                        <md-divider></md-divider>
                        <md-menu-item>
                            <md-button class="md-primary md-hue-1" ng-click="showResetDialog();">
                                <i class="material-icons inline-icon">power_settings_new</i>
                                <span>Reset App</span>
                            </md-button>
                        </md-menu-item>
                    </md-menu-content>
                </md-menu>
            </div>

            <md-divider></md-divider>

            <section ng-show="showColorThemes"
                     class="control-card md-whiteframe-5dp md-background md-hue-3">
                <md-toolbar class="md-toolbar-tools control-card-toolbar" layout-xs="column"
                            layout-sm="column" layout-gt-sm="row">
                    <span>Color Themes</span>
                    <span flex></span>
                    <md-button ng-click="showColorThemes = false;">
                        <i class="material-icons inline-icon">done</i>
                        Done
                    </md-button>
                </md-toolbar>
                <md-content
                        class="theme-card-content md-background md-background md-hue-3 colors-buttons">
                    <md-subheader class="md-primary md-background md-hue-3">
                        Set the color theme below. If you bookmark this page while on your favorite theme it will be set automatically when you return.
                    </md-subheader>
                    <div layout-xs="column" layout-gt-xs="row">
                        <md-button class="md-accent md-raised" ng-click="setTheme('breezy');" ng-disabled="state.theme.colorTheme == 'breezy'">
                            Breezy
                        </md-button>
                        <md-button class="md-accent md-raised" ng-click="setTheme('darkula');" ng-disabled="state.theme.colorTheme == 'darkula'">
                            Darkula
                            <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip">
                                Based on your favorite IDE's dark theme
                            </md-tooltip>
                        </md-button>
                        <md-button class="md-accent md-raised" ng-click="setTheme('grass');" ng-disabled="state.theme.colorTheme == 'grass'">
                            Grass
                        </md-button>
                        <md-button class="md-accent md-raised" ng-click="setTheme('prince');" ng-disabled="state.theme.colorTheme == 'prince'">
                            Prince
                        </md-button>
                        <md-button class="md-accent md-raised" ng-click="setTheme('matrix');" ng-disabled="state.theme.colorTheme == 'matrix'">
                            Matrix
                            <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip">
                                What if I told you this is the best website for report card comments
                            </md-tooltip>
                        </md-button>
                        <md-button class="md-accent md-raised" ng-click="setTheme('adventure');" ng-disabled="state.theme.colorTheme == 'adventure'">Adventure
                            <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip">
                                Time
                            </md-tooltip>
                        </md-button>
                    </div>
                    <br>
                </md-content>
            </section>

            <md-tabs md-dynamic-height="true" md-center-tabs="true" md-selected="selectedTab" class="tabs-wrapper" md-swipe-content="{{ state.settings.tabSwipe }}">
                <md-tab md-on-select="selectTab();">
                    <md-tab-label>
                        Comment Breeze
                    </md-tab-label>
                    <md-tab-body>
                        <div class="all-tabs main-tab">
                            <div class="front-page-content-container">
                                <md-content class="front-page-content md-whiteframe-5dp md-background md-hue-3">
                                    <br>
                                    <h2 ng-style="state.theme.highlightColor">Welcome to Comment Breeze!</h2>

                                    <p ng-style="state.theme.textColor" class="paragraphs">
                                        I made this site to help my girlfriend, friends and other ESL teachers build
                                        report card comments.<br>
                                        If you're an ESL teacher, I hope this makes your life easier!
                                    </p>

                                    <h2 ng-style="state.theme.highlightColor">What's different about Comment Breeze?</h2>

                                    <p ng-style="state.theme.textColor" class="paragraphs">
                                        <span ng-bind="formatNumber(totalCommentsSize);"></span> unique comments<span
                                            ng-show="isMobile" ng-style="state.theme.highlightColor">*</span><br>
                                        Powerful live search<br>
                                        Blazing fast multi-student comment building<br>
                                        Customizable pattern-based generation<br>
                                        Designed for both smartphones and desktops<br>
                                    </p>

                                    <div ng-show="isMobile">
                                        <h2 ng-style="state.theme.highlightColor">Mobile Users</h2>

                                        <p ng-style="state.theme.textColor" class="paragraphs">
                                            Comment Breeze is javascript heavy and may suffer from slow performance on
                                            mobile devices with limited computing power.<br><br>

                                            Some settings are changed to make mobile experiences quicker. These can be
                                            adjusted on the settings page.<br><br>

                                            <span ng-style="state.theme.highlightColor">*</span> All comments are not
                                            initially loaded
                                            for mobile users, <span class="cursor-pointer"
                                                                    ng-click="showDialog('/settings/search-settings.html');">see the "Resize Comments" section of search settings to change.</span>
                                        </p>
                                    </div>

                                    <h2 ng-style="state.theme.highlightColor">OK, how do I use it?</h2>

                                    <p ng-style="state.theme.textColor" class="paragraphs">
                                        Start on the Build tab, there are help buttons on each section to guide you through the process.<br>
                                        <span ng-show="isMobile">(this may be moved inside the drop down menu on smaller screens)<br></span>
                                        <br>

                                        <md-button class="md-accent md-button md-raised"
                                                   ng-click="selectedTab = tabIndexes.build">
                                            <i class="material-icons inline-icon">build</i>
                                            Start Building Comments!
                                        </md-button>
                                    </p>

                                    <h2 ng-style="state.theme.highlightColor" ng-show="staticMode">The Site is in Static Mode</h2>

                                    <p ng-style="state.theme.textColor" class="paragraphs" ng-show="staticMode">
                                        The site is in a feature-limited state right now to save money.<br><br>

                                        <md-button ng-click="showDialog('dialogs/static-mode.html')">
                                            <i class="material-icons inline-icon">help</i>
                                            More Info
                                        </md-button>
                                    </p>

                                    <h2 ng-style="state.theme.highlightColor">
                                        Donate
                                    </h2>

                                    <p ng-style="state.theme.textColor" class="paragraphs">
                                        This site is free to use, but it's not free to run, plus it took a lot of time
                                        to code.<br>
                                        Donations will help me recoup the cost of running the serv<span
                                            ng-click="showStats();">e</span>r.<br>
                                        Any amount is appreciated.
                                    </p>
                                    <br>

                                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank">
                                        <input type="hidden" name="cmd" value="_s-xclick">
                                        <input type="hidden" name="encrypted"
                                               value="-----BEGIN PKCS7-----MIIHLwYJKoZIhvcNAQcEoIIHIDCCBxwCAQExggEwMIIBLAIBADCBlDCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20CAQAwDQYJKoZIhvcNAQEBBQAEgYBTkP8Gyq93Y7AEVZpsWKo1/9jF06TiN7J9ZscuneamBP9ohtS3RipF/yPBhKupYvjQnLRIaNHG3qIcaCznUJAbEPRkUrMYCKsjzt2GEJ/1+lW57EIZDn/yJ4wWBlHNeCH3aWuho8buIGcnWM1mbv7boannuZvpJnbgcUANtsW6mzELMAkGBSsOAwIaBQAwgawGCSqGSIb3DQEHATAUBggqhkiG9w0DBwQIyNSCtMDmgcuAgYh26LEJMt81m/29oJYVA045JTlfs4/Suga4HTdqguK+HTh3F/hNjZ8752/ZkO15861Qewn/8rCj/vYHYDqY8jtayRbe0ojU534xWgNbsXNPEtw4nYoRN0Rqejbwl7sdy9hIkBgROZeS3OlCqhGm0fPTvado8WmP75Yns+c8KV1wsflm7r/5djleoIIDhzCCA4MwggLsoAMCAQICAQAwDQYJKoZIhvcNAQEFBQAwgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tMB4XDTA0MDIxMzEwMTMxNVoXDTM1MDIxMzEwMTMxNVowgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDBR07d/ETMS1ycjtkpkvjXZe9k+6CieLuLsPumsJ7QC1odNz3sJiCbs2wC0nLE0uLGaEtXynIgRqIddYCHx88pb5HTXv4SZeuv0Rqq4+axW9PLAAATU8w04qqjaSXgbGLP3NmohqM6bV9kZZwZLR/klDaQGo1u9uDb9lr4Yn+rBQIDAQABo4HuMIHrMB0GA1UdDgQWBBSWn3y7xm8XvVk/UtcKG+wQ1mSUazCBuwYDVR0jBIGzMIGwgBSWn3y7xm8XvVk/UtcKG+wQ1mSUa6GBlKSBkTCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb22CAQAwDAYDVR0TBAUwAwEB/zANBgkqhkiG9w0BAQUFAAOBgQCBXzpWmoBa5e9fo6ujionW1hUhPkOBakTr3YCDjbYfvJEiv/2P+IobhOGJr85+XHhN0v4gUkEDI8r2/rNk1m0GA8HKddvTjyGw/XqXa+LSTlDYkqI8OwR8GEYj4efEtcRpRYBxV8KxAW93YDWzFGvruKnnLbDAF6VR5w/cCMn5hzGCAZowggGWAgEBMIGUMIGOMQswCQYDVQQGEwJVUzELMAkGA1UECBMCQ0ExFjAUBgNVBAcTDU1vdW50YWluIFZpZXcxFDASBgNVBAoTC1BheVBhbCBJbmMuMRMwEQYDVQQLFApsaXZlX2NlcnRzMREwDwYDVQQDFAhsaXZlX2FwaTEcMBoGCSqGSIb3DQEJARYNcmVAcGF5cGFsLmNvbQIBADAJBgUrDgMCGgUAoF0wGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMTUxMjEzMDY1NTA3WjAjBgkqhkiG9w0BCQQxFgQULJcJ21isLqwSw5HdjTst/3KH0ZswDQYJKoZIhvcNAQEBBQAEgYCey+UjP7L7i7Pj2lFff/zTZzQYuRG6HMAp+QM4BJKH9xgiJbyiuk02P44AItBtz+FDQnUDcOIv2nJoXcHCE9u2ViaRlwd5MOeuuH0Us6NkJS1L/tBT3nUF1wxeViqrNLUbMJBB/Og+8zmDhmqOyCHUrBivFNcB5FGwmJqoegS6tw==-----END PKCS7-----">
                                        <input type="image"
                                               src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif"
                                               border="0" name="submit"
                                               alt="PayPal - The safer, easier way to pay online!">
                                        <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif"
                                             width="1" height="1">
                                    </form>

                                    <br><br>

                                    <h3>
                                        <span ng-style="state.theme.highlightColor" class="cursor-pointer"
                                              ng-click="showDialog('/dialogs/privacy-policy.html')">Privacy Policy</span>
                                        -
                                        <span ng-hide="staticMode" ng-style="state.theme.highlightColor" class="cursor-pointer"
                                              ng-click="showContactForm()">
                                            Contact
                                        </span>
                                        <span ng-show="staticMode">
                                            <script>document.write('<'+'a'+' '+'h'+'r'+'e'+'f'+'='+"'"+'m'+'a'+'i'+'l'+'t'+'&'+'#'+'1'+'1'+'1'+';'+'&'+'#'+'5'+'8'+';'+
                                                    '&'+'#'+'1'+'1'+'6'+';'+'%'+'6'+'B'+'%'+'&'+'#'+'5'+'0'+';'+'E'+'%'+'7'+'3'+'%'+'6'+'F'+'&'+'#'+'1'+
                                                    '0'+'2'+';'+'&'+'#'+'1'+'1'+'6'+';'+'w'+'a'+'&'+'#'+'1'+'1'+'4'+';'+'e'+'&'+'#'+'4'+'6'+';'+'d'+'e'+
                                                    '&'+'#'+'1'+'1'+'8'+';'+'e'+'l'+'&'+'#'+'1'+'1'+'1'+';'+'p'+'%'+'&'+'#'+'5'+'4'+';'+'&'+'#'+'6'+'8'+
                                                    ';'+'&'+'#'+'1'+'0'+'1'+';'+'&'+'#'+'1'+'1'+'0'+';'+'&'+'#'+'1'+'1'+'6'+';'+'&'+'#'+'6'+'4'+';'+'&'+
                                                    '#'+'3'+'7'+';'+'6'+'7'+'m'+'a'+'&'+'#'+'3'+'7'+';'+'&'+'#'+'5'+'4'+';'+'9'+'&'+'#'+'3'+'7'+';'+'&'+
                                                    '#'+'5'+'4'+';'+'C'+'%'+'&'+'#'+'5'+'0'+';'+'E'+'c'+'o'+'&'+'#'+'1'+'0'+'9'+';'+"'"+' target=\"_blank\">Contact Email<'+'/'+'a'+'>');</script><noscript>[Turn on JavaScript to see the email address]</noscript>
                                        </span>
                                        -
                                        <a ng-style="state.theme.highlightColor" class="cursor-pointer"
                                           ng-href="https://github.com/tkonya/Comment-Breeze" target="_blank">GitHub</a>
                                        -

                                        <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"
                                           target="_blank"><img alt="Creative Commons License" style="border-width:0"
                                                                src="https://i.creativecommons.org/l/by-nc/4.0/80x15.png"/></a>

                                    </h3>


                                    <br><br>
                                </md-content>
                                <br><br>
                            </div>
                        </div>
                    </md-tab-body>
                </md-tab>

                <md-tab md-on-select="selectTab();">
                    <md-tab-label>
                        <i class="material-icons inline-icon">build</i>
                        Build
                    </md-tab-label>
                    <md-tab-body class="center-aligned">

                        <section class="control-card md-whiteframe-5dp md-background md-hue-3">
                            <md-toolbar class="md-toolbar-tools control-card-toolbar" layout-xs="column" layout-sm="column" layout-gt-sm="row">
                                <md-button ng-click="showGlobalDetails = !showGlobalDetails">
                                    <i class="material-icons inline-icon"
                                       ng-show="showGlobalDetails">keyboard_arrow_up</i>
                                    <i class="material-icons inline-icon" ng-show="!showGlobalDetails">keyboard_arrow_down</i>
                                    <span class="md-title">Class <span hide-xs>Details</span></span>
                                </md-button>

                                <span flex></span>

                                <md-button hide-xs hide-sm ng-click="showDialog('help/class-details-help.html');">
                                    <i class="material-icons inline-icon">help</i>
                                    <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip" md-direction="left">
                                        Show the help document for Class Details
                                    </md-tooltip>
                                </md-button>

                            </md-toolbar>

                            <md-content class="control-card-content md-background md-background md-hue-3">

                                <div ng-show="showGlobalDetails" layout-xs="column" layout-sm="column" layout-gt-sm="row" layout-fill>
                                    <div layout="column" flex-xs="100" flex-gt-xs="50">
                                        <form ng-submit="changeClassName()" flex-gt-sm="20">
                                            <md-input-container class="input-container almost-full-width" flex="100">
                                                <label>Class Name</label>
                                                <input ng-style="state.theme.textColor" type="text" ng-model="state.class_name" ng-blur="changeClassName()">
                                            </md-input-container>
                                            <md-tooltip ng-style="state.theme.tooltips"
                                                        ng-show="state.settings.showTooltips" class="tooltip">
                                                Will replace instances of CLASS_NAME in comments
                                            </md-tooltip>
                                        </form>

                                        <input id="file-upload-input" type="file" on-read-file="loadState($fileContent);" ng-hide="true">

                                    </div>

                                    <div layout="column" flex-xs="100" flex-gt-xs="50" class="center-aligned">

                                        <md-input-container flex-gt-sm="35" flex-order="2" class="intro-conclusion-multi no-bottom-margin">
                                            <label>Introduction</label>
                                            <textarea ng-style="state.theme.textColor" class="almost-full-width" ng-model="state.introduction"></textarea>
                                            <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip">
                                                <span ng-style="state.theme.tooltips">The custom introduction to appear at the beginning of every comment (optional)</span>
                                            </md-tooltip>
                                        </md-input-container>

                                        <md-input-container flex-gt-sm="35" flex-order="3" class="intro-conclusion-multi">
                                            <label>Conclusion</label>
                                            <textarea ng-style="state.theme.textColor" class="almost-full-width" ng-model="state.conclusion"></textarea>
                                            <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip">
                                                The custom conclusion to appear at the end of every comment (optional)
                                            </md-tooltip>
                                        </md-input-container>

                                    </div>
                                </div>

                            </md-content>
                        </section>


                        <section class="control-card md-whiteframe-5dp md-background md-hue-3">
                            <md-toolbar class="md-toolbar-tools control-card-toolbar">

                                <h2>
                                <!--<i class="material-icons inline-icon">group</i>-->
                                    <span>STUDENTS ({{state.students.length}})</span>
                                </h2>

                                <span flex></span>

                                <md-button ng-click="showDialog('help/all-students-help.html');">
                                    <i class="material-icons inline-icon">help</i>
                                    <!--<span hide-xs>Help</span>-->
                                    <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip" md-direction="left">
                                        Show the help document for All Students
                                    </md-tooltip>
                                </md-button>

                            </md-toolbar>

                            <md-content class="center-aligned md-background md-hue-3 all-students-content" layout-fill>

                                <div layout-xs="column" layout-sm="column" layout-gt-sm="row" layout-fill>
                                    <md-button class="md-button md-raised md-accent" ng-click="showDialog('dialogs/add-students-dialog.html');">
                                        <i class="material-icons inline-icon">person_add</i>
                                        <span>Add Students</span>
                                        <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip">
                                            Add student(s) to your list of students
                                        </md-tooltip>
                                    </md-button>
                                    <md-tabs flex ng-hide="state.students.length < 1" md-selected="selectedStudentTab" class="full-width tabs-content">
                                        <md-tab ng-repeat="student in state.students" label="{{student.name}}"></md-tab>
                                    </md-tabs>
                                </div>

                                <md-divider ng-hide="state.students.length < 1"></md-divider>

                                <md-tabs ng-hide="state.students.length < 1" md-selected="selectedStudentTab" class="full-width tabs-content tabs-wrapper" md-border-bottom>
                                    <md-tab ng-repeat="student in state.students">
                                        <md-tab-label>
                                            {{student.name}}
                                        </md-tab-label>
                                        <md-tab-body>
                                        <div class="student-card-content">
                                            <div layout-xs="column" layout-gt-xs="row" class="full-width">

                                                <br hide-gt-xs>
                                                <div layout="row" class="student-details">
                                                    <form ng-submit="changeStudentName(student);">
                                                        <md-input-container class="input-container full-width" flex="100">
                                                            <label>Student Name</label>
                                                            <input type="text" ng-model="student.name" ng-blur="changeStudentName(student);">
                                                        </md-input-container>
                                                    </form>
                                                </div>

                                                <div class="all-students-gender-radios student-details" ng-hide="student.collapsed">
                                                    <md-radio-group ng-model="student.gender" class="md-primary radio-button-group" layout="row" aria-label="Student Gender" ng-change="changeStudentGender(student);">
                                                        <md-radio-button ng-model="student.gender" value="male" selected>
                                                            M
                                                            <md-tooltip ng-show="state.settings.showTooltips && student.gender != 'male'" class="tooltip">
                                                                Set default gender to male
                                                            </md-tooltip>
                                                        </md-radio-button>
                                                        <md-radio-button ng-model="student.gender" value="female">
                                                            F
                                                            <md-tooltip ng-show="state.settings.showTooltips && student.gender != 'female'" class="tooltip">
                                                                Set default gender to female
                                                            </md-tooltip>
                                                        </md-radio-button>
                                                    </md-radio-group>
                                                </div>

                                                <br hide-gt-xs>

                                                <div flex class="student-details">
                                                    <div ng-show="student.pattern && student.pattern_type == 'global'" class="center-aligned">
                                                        <i class="material-icons inline-icon">extension</i> Default Pattern
                                                        <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip">
                                                            This student is using the default pattern
                                                        </md-tooltip>
                                                    </div>

                                                    <div ng-show="student.pattern && student.pattern_type == 'individual'" class="center-aligned">
                                                        <i class="material-icons inline-icon">extension</i> Individual Pattern
                                                        <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip">
                                                            This student is using a unique pattern
                                                        </md-tooltip>
                                                    </div>

                                                    <div ng-show="student.pattern && student.pattern_type == 'grade'" class="center-aligned">
                                                        <i class="material-icons inline-icon">grade</i> Grade Pattern
                                                        <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip">
                                                            This student is using a pattern derived from another, but with
                                                            tone differences
                                                        </md-tooltip>
                                                    </div>
                                                </div>


                                                <md-menu class="menu" flex-order-xs="-1">
                                                    <md-button ng-click="$mdOpenMenu($event); buildWholeStudentComment(student);" class="full-width md-primary md-hue-1">
                                                        <i class="material-icons inline-icon">menu</i>
                                                        <span>Menu</span>
                                                    </md-button>
                                                    <md-menu-content class="menu-content">
                                                        <md-menu-item>
                                                            <md-button class="md-primary md-hue-1" flex ng-click="editStudentWithPatterns(student, true, $index);">
                                                                <i class="material-icons inline-icon">extension</i>
                                                                <span>Edit w/ Patterns</span>
                                                            </md-button>
                                                        </md-menu-item>
                                                        <md-menu-item ng-show="student.pattern_type != 'global' && state.global_pattern.length > 0">
                                                            <md-button class="md-primary md-hue-1" flex ng-click="applyGlobalPatternToStudent(student);">
                                                                <i class="material-icons inline-icon">extension</i>
                                                                <span>Apply Default Pattern</span>
                                                            </md-button>
                                                        </md-menu-item>
                                                        <md-menu-item>
                                                            <md-button class="md-primary md-hue-1" flex ng-click="gradeStudent(student, $index);">
                                                                <i class="material-icons inline-icon">grade</i>
                                                                <span>Grade Student</span>
                                                            </md-button>
                                                        </md-menu-item>
                                                        <md-divider></md-divider>
                                                        <md-menu-item>
                                                            <md-button ng-disabled="!student.whole_comment" aria-label="Copy Comments" md-ink-ripple flex class="md-primary md-hue-1" ng-click="illToastToThat('Comments copied to clipboard'); saveAnalyticsStudent(student, 'Copy Comment - Student');" md-ripple-size="auto" clipboard text="student.whole_comment">
                                                                <i class="material-icons inline-icon">content_copy</i>
                                                                <span>Copy Comment</span>
                                                            </md-button>
                                                        </md-menu-item>
                                                        <md-divider></md-divider>
                                                        <md-menu-item>
                                                            <md-button md-prevent-menu-close class="md-primary md-hue-1" flex ng-click="regenerateMultiStudentComment(student, true)">
                                                                <i class="material-icons inline-icon">autorenew</i>
                                                                <span>Regenerate Random</span>
                                                            </md-button>
                                                        </md-menu-item>
                                                        <md-menu-item ng-hide="!student.pattern">
                                                            <md-button md-prevent-menu-close class="md-primary md-hue-1" flex ng-click="regenerateMultiStudentComment(student, false)">
                                                                <i class="material-icons inline-icon">autorenew</i>
                                                                <span>Regenerate w/ Pattern</span>
                                                            </md-button>
                                                        </md-menu-item>
                                                        <md-menu-item>
                                                            <md-button md-prevent-menu-close class="md-primary md-hue-1" ng-disabled="student.comment == ''" ng-click="shuffleMultiStudentComment(student)">
                                                                <i class="material-icons inline-icon">shuffle</i>
                                                                <span>Shuffle Comments</span>
                                                            </md-button>
                                                        </md-menu-item>
                                                        <md-divider></md-divider>
                                                        <md-menu-item>
                                                            <md-button class="md-primary md-hue-1" flex ng-click="saveAnalyticsStudent(student, 'Remove Student'); removeMultiStudent(student); ">
                                                                <i class="material-icons inline-icon">delete</i>
                                                                <span>Remove Student</span>
                                                            </md-button>
                                                        </md-menu-item>
                                                    </md-menu-content>
                                                </md-menu>

                                            </div>

                                            <div flex class="full-width">
                                                <br hide-gt-xs>
                                                <md-input-container class="full-width shallow-input">
                                                    <label>
                                                        Comment Text
                                                    </label>
                                                    <textarea ng-style="state.theme.textColor" ng-model="student.comment" class="almost-full-width"></textarea>
                                                </md-input-container>
                                            </div>
                                        </div>
                                        </md-tab-body>
                                    </md-tab>
                                </md-tabs>

                            </md-content>
                            <md-content class="all-students-content" ng-hide="state.students.length < 1">
                                <div layout-xs="column" layout-gt-xs="row">
                                    <span flex></span>
                                    <md-button class="md-button md-accent md-raised" aria-label="Show Finished Comments" ng-click="buildAllStudentComments(); showDialog('/dialogs/finished-comments.html'); saveAnalyticsClass('Show Finished Comments');">
                                        <i class="material-icons inline-icon">description</i>
                                        <span>Show Finished Comments</span>
                                        <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip">
                                            Displays all student's comments together and allows you to copy or save them
                                        </md-tooltip>
                                    </md-button>
                                </div>
                            </md-content>
                        </section>

                        <section class="control-card md-whiteframe-5dp md-background md-hue-3">
                            <md-toolbar class="md-toolbar-tools control-card-toolbar">
                                <h1>
                                    <span>SEARCH<span hide-xs> COMMENTS</span></span>
                                </h1>

                                <span flex></span>

                                <md-menu hide-gt-sm class="menu">
                                    <md-button ng-click="$mdOpenMenu($event);" class="md-primary md-hue-1">
                                        <i class="material-icons inline-icon">menu</i>
                                        <span hide-xs>Menu</span>
                                    </md-button>
                                    <md-menu-content class="menu-content">
                                        <md-menu-item>
                                            <md-button class="md-primary md-hue-1" ng-click="showDialog('/settings/search-settings.html');">
                                                <i class="material-icons inline-icon">settings</i>
                                                <span>Settings</span>
                                            </md-button>
                                        </md-menu-item>
                                        <md-menu-item>
                                            <md-button class="md-primary md-hue-1" ng-click="showDialog('/help/search-help.html');">
                                                <i class="material-icons inline-icon">help</i>
                                                <span>Help</span>
                                            </md-button>
                                        </md-menu-item>
                                    </md-menu-content>
                                </md-menu>

                                <md-button hide-xs hide-sm ng-click="showDialog('/settings/search-settings.html');">
                                    <i class="material-icons inline-icon">settings</i>
                                    <!--<span hide-xs>Settings</span>-->
                                    <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip" md-direction="bottom">
                                        Show search settings
                                    </md-tooltip>
                                </md-button>

                                <md-button hide-xs hide-sm ng-click="showDialog('/help/search-help.html');">
                                    <i class="material-icons inline-icon">help</i>
                                    <!--<span hide-xs>Help</span>-->
                                    <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip" md-direction="left">
                                        Show the help document for Search
                                    </md-tooltip>
                                </md-button>

                            </md-toolbar>

                            <md-content class="comment-bank-content md-background md-hue-3" layout="column" layout-fill>

                                <md-subheader class="md-primary md-hue-1 md-background md-hue-3">
                                    <span ng-show="state.students.length < 1">Add some students above to get started</span>
                                    <span ng-show="state.students.length > 0">Click on a comment to add it to {{state.students[selectedStudentTab].name}}</span>
                                </md-subheader>

                                <div layout-xs="column" layout-sm="column" layout-gt-sm="row" layout-fill>

                                    <form ng-submit="submitSearch();" flex-gt-sm="75" class="side-margins">
                                        <md-input-container class="full-width search-and-filter">
                                            <label>Search Comments</label>
                                            <input type="text" autocomplete="off" ng-model="searchComments" ng-change="changeCommentsPage(1);" class="almost-full-width">
                                            <md-tooltip ng-style="state.theme.tooltips" md-direction="top" ng-show="state.settings.showTooltips" class="tooltip">
                                                Instant search on comments. This is the best way to find comments if you
                                                have an idea of what you want to say.
                                            </md-tooltip>
                                        </md-input-container>
                                    </form>

                                    <md-input-container flex-gt-sm="25" class="search-and-filter side-margins">
                                        <label>Filter on Tone</label>
                                        <md-select ng-model="toneFilterSetting" md-on-close="changeFilter()">
                                            <md-option ng-value="option" ng-repeat="option in toneFilterOptions">
                                                {{option}}
                                            </md-option>
                                        </md-select>
                                    </md-input-container>

                                </div>

                                <br hide-gt-sm>

                                <md-progress-circular md-mode="indeterminate" ng-show="comments.length == 0 && toneFilterSetting == 'Any'" class="waiting-spinner"></md-progress-circular>

                                <div id="next-comments-page-location" class="zero-size"></div>

                                <div class="center-aligned" ng-show="comments.length == 0 && toneFilterSetting != 'Any'">
                                    <div>No results</div>
                                </div>

                                <div ng-show="comments.length > 0">
                                    <table class="comment-bank-table">
                                        <tr ng-style="getAltBackgroundColor($even)" ng-repeat="comment in comments | filter:searchComments | limitTo : commentViewLimit : commentViewBegin">
                                            <td ng-click="showEditToneDialog(comment)" ng-show="state.settings.showTone">
                                                <span ng-show="comment.pos_neg == -1" ng-style="state.theme.negativeColor" class="edit-tone">
                                                    <i class="material-icons">thumb_down</i>
                                                    <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip" md-direction="right">
                                                        This comment has been rated as negative, click to edit
                                                    </md-tooltip>
                                                </span>
                                                <span ng-show="comment.pos_neg == 0" ng-style="state.theme.neutralColor" class="edit-tone">
                                                    <i class="material-icons">thumbs_up_down</i>
                                                    <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip" md-direction="right">
                                                        This comment has been rated as neutral, click to edit
                                                    </md-tooltip>
                                                </span>
                                                <span ng-show="comment.pos_neg == 1" ng-style="state.theme.positiveColor" class="edit-tone">
                                                    <i class="material-icons">thumb_up</i>
                                                    <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip" md-direction="right">
                                                        This comment has been rated as positive, click to edit
                                                    </md-tooltip>
                                                </span>
                                                <span ng-show="!comment.pos_neg && comment.pos_neg != 0" ng-style="state.theme.unratedColor" class="edit-tone">
                                                    <i class="material-icons">rate_review</i>
                                                    <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip" md-direction="right">
                                                        This comment has not yet been rated, click to edit
                                                    </md-tooltip>
                                                </span>
                                            </td>
                                            <td ng-click="showTagEditDialog(comment)" ng-show="state.settings.showTags">
                                                <span ng-show="comment.hasOwnProperty('tags')" class="cursor-pointer">
                                                <i class="material-icons">label</i>
                                                <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip" md-direction="right">
                                                    This comment has tags, click to add or remove
                                                </md-tooltip>
                                                </span>
                                                <span ng-hide="comment.hasOwnProperty('tags')" class="cursor-pointer"
                                                      ng-style="state.theme.unratedColor">
                                                <i class="material-icons">label_outline</i>
                                                <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip" md-direction="right">
                                                    This comment does not have tags, click to add
                                                </md-tooltip>
                                                </span>
                                            </td>
                                            <td ng-style="state.theme.textColor" ng-click="addCommentToSelectedStudent(comment.comment_text, true)" class="comment-text" ng-bind="comment.comment_text"></td>
                                            <td class="comment-edit" class="comment-edit" ng-style="state.theme.textColor" ng-click="showEditCommentDialog(comment, false)" ng-show="state.settings.showEditButtons">
                                                <i title="Edit this comment" class="material-icons">mode_edit</i>
                                                <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip" md-direction="left">
                                                    Edit this comment
                                                </md-tooltip>
                                            </td>
                                        </tr>
                                    </table>

                                    <div layout-xs="column" layout-gt-xs="row" layout-gt-md="row" layout-fill>
                                        <div layout="row" class="per-page-select">
                                            <md-select ng-model="commentViewLimit" ng-change="changeCommentsPerPage()">
                                                <md-select-label>Per Page:</md-select-label>
                                                <md-option ng-value="10">10</md-option>
                                                <md-option ng-value="15">15</md-option>
                                                <md-option ng-value="20">20</md-option>
                                                <md-option ng-value="35">35</md-option>
                                                <!--<md-option ng-value="50">50</md-option>-->
                                                <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip" md-direction="bottom">
                                                    Change the number of comments per page
                                                </md-tooltip>
                                            </md-select>
                                        </div>

                                        <div flex></div>

                                        <div>
                                            <div align="right">
                                                <button class="md-button page-buttons" md-ink-ripple ng-disabled="currentCommentsPage < 2 || currentCommentsPage == totalCommentPages" ng-click="changeCommentsPage(currentCommentsPage - 1)">
                                                    <i class="material-icons inline-icon">keyboard_arrow_left</i>
                                                </button>
                                                <span style="font-size: smaller;">Page <span ng-bind="currentCommentsPage"></span> of <span ng-bind="totalCommentPages"></span></span>
                                                <button class="md-button page-buttons" md-ink-ripple ng-disabled="totalCommentPages < 2 || currentCommentsPage >= totalCommentPages" ng-click="changeCommentsPage(currentCommentsPage + 1)">
                                                    <i class="material-icons inline-icon">keyboard_arrow_right</i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </md-content>
                        </section>

                    </md-tab-body>
                </md-tab>

                <md-tab md-on-select="selectTab();">
                    <md-tab-label>
                        <i class="material-icons inline-icon">extension</i>
                        Patterns
                    </md-tab-label>
                    <md-tab-body>

                        <section class="control-card md-whiteframe-5dp md-background md-hue-3" ng-show="!editingStudentPattern && state.students.length > 0">
                            <md-toolbar class="md-toolbar-tools control-card-toolbar">
                                <md-button ng-click="showSelectStudentPattern = !showSelectStudentPattern">
                                    <i class="material-icons inline-icon" ng-show="showSelectStudentPattern">keyboard_arrow_up</i>
                                    <i class="material-icons inline-icon" ng-show="!showSelectStudentPattern">keyboard_arrow_down</i>
                                    <span class="md-title">Select Student</span>
                                </md-button>

                                <span flex></span>

                            </md-toolbar>

                            <md-content class="select-student-card-content md-background md-hue-3">

                                <md-subheader ng-show="showSelectStudentPattern" class="md-primary md-hue-1 md-background md-hue-3">
                                    Select a student to edit with Patterns, or leave empty to edit the default pattern
                                </md-subheader>

                                <div class="select-student-card-inner-content" ng-show="showSelectStudentPattern" layout-xs="column" layout-gt-xs="row" layout-fill>

                                    <md-input-container flex-xs="100" flex-sm="50" flex-gt-sm="30" class="select-student-input">
                                        <md-select ng-model="studentToEditWithPattern" placeholder="Student to Edit" md-on-close="editStudentWithPatterns(studentToEditWithPattern, false);">
                                            <md-option ng-value="student" ng-repeat="student in state.students">{{$index
                                                + 1}}: {{ student.name }}
                                            </md-option>
                                        </md-select>
                                    </md-input-container>
                                </div>

                                <br ng-hide="showSelectStudentPattern">

                            </md-content>
                        </section>

                        <section class="control-card md-whiteframe-5dp md-background md-hue-3" ng-show="editingStudentPattern">
                            <md-toolbar class="md-toolbar-tools control-card-toolbar">
                                <h1>
                                    <span>Comments for {{editingStudentPattern.name}}</span>
                                </h1>

                                <span flex></span>

                            </md-toolbar>

                            <md-content class="control-card-content md-background md-hue-3" layout="column" layout-fill>

                                <md-input-container class="input-container">
                                    <label>Your Comments</label>
                                    <textarea ng-model="editingStudentPattern.comment" class="almost-full-width"></textarea>
                                    <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip" md-direction="right">
                                        Add comments by clicking below and edit them as needed
                                    </md-tooltip>
                                </md-input-container>

                                <div class="save-buttons" layout-xs="column" layout-gt-xs="row">

                                    <span flex hide-xs></span>

                                    <md-button class="md-button md-raised md-accent" aria-label="Done Editing" md-ink-ripple md-ripple-size="auto" ng-click="doneEditingStudentPattern();">
                                        <i class="material-icons inline-icon">done</i>
                                        <span>Save</span>
                                        <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip">
                                            Saves the changes you've made to this student's pattern
                                        </md-tooltip>
                                    </md-button>

                                    <md-button class="md-button md-raised md-accent" md-ink-ripple ng-click="doneEditingPatternGoToNext()" ng-disabled="editingStudentPattern.index >= state.students.length - 1">
                                        <i class="material-icons inline-icon">done</i>
                                        <span>Save and Go To Next Student</span>
                                        <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip">
                                            Saves the changes you've made to this student's pattern and opens the next student for editing
                                        </md-tooltip>
                                    </md-button>

                                    <md-button aria-label="Cancel Editing" md-ink-ripple ng-click="cancelEditingStudentPattern();" md-ripple-size="auto">
                                        <i class="material-icons inline-icon">cancel</i>
                                        <span>Cancel</span>
                                        <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip">
                                            Cancels editing; does not save anything
                                        </md-tooltip>
                                    </md-button>

                                </div>

                                <br>

                            </md-content>
                        </section>


                        <section class="control-card md-background md-hue-3 md-whiteframe-5dp">

                            <md-toolbar class="md-toolbar-tools control-card-toolbar">
                                <md-button ng-click="showAddPieces = !showAddPieces;">
                                    <i class="material-icons inline-icon" ng-show="showAddPieces">keyboard_arrow_up</i>
                                    <i class="material-icons inline-icon" ng-show="!showAddPieces">keyboard_arrow_down</i>
                                    <span class="md-title">
                                        <span hide-xs>ADD PATTERN PIECES</span>
                                        <span hide-gt-xs>ADD PIECES</span>
                                    </span>
                                </md-button>

                                <span flex></span>

                                <md-menu class="menu">
                                    <md-button ng-click="$mdOpenMenu($event);">
                                        <i class="material-icons inline-icon">menu</i>
                                        <span hide-xs>Menu</span>
                                    </md-button>
                                    <md-menu-content class="menu-content">
                                        <md-menu-item>
                                            <md-button class="md-primary md-hue-1" ng-click="loadSampleSmartSearch()">
                                                <i class="material-icons inline-icon">flip_to_front</i>
                                                <span>Load Sample Pattern</span>
                                            </md-button>
                                        </md-menu-item>
                                        <md-divider></md-divider>
                                        <md-menu-item>
                                            <md-button class="md-primary md-hue-1" ng-click="showDialog('/settings/pattern-settings.html');">
                                                <i class="material-icons inline-icon">settings</i>
                                                <span>Settings</span>
                                            </md-button>
                                        </md-menu-item>
                                        <md-menu-item hide-gt-sm>
                                            <md-button class="md-primary md-hue-1" ng-click="showDialog('/help/add-pattern-pieces-help.html');">
                                                <i class="material-icons inline-icon">help</i>
                                                <span>Help</span>
                                            </md-button>
                                        </md-menu-item>
                                    </md-menu-content>
                                </md-menu>

                                <md-button hide-xs ng-click="showDialog('/help/add-pattern-pieces-help.html');">
                                    <i class="material-icons inline-icon">help</i>
                                    <!--<span hide-xs>Help</span>-->
                                    <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip" md-direction="left">
                                        Show the help document for Patterns
                                    </md-tooltip>
                                </md-button>

                            </md-toolbar>

                            <md-content class="comment-bank-content md-background md-hue-3" layout="column" layout-fill>

                                <div ng-show="showAddPieces">
                                    <md-subheader class="md-primary md-hue-1 md-background md-hue-3">
                                        <span ng-show="editingStudentPattern == null">Add pattern piece to the default pattern</span>
                                        <span ng-hide="editingStudentPattern == null">Add pattern piece to the individual pattern for {{editingStudentPattern.name}}</span>
                                    </md-subheader>

                                    <div layout-xs="column" layout-sm="column" layout-md="row" layout-gt-md="row" layout-fill>

                                        <form class="pattern-search-text-input side-margins" ng-submit="editingPattern.push(getSmartSearchResult(newPatternPiece, state.settings.getSearchResultCount)); newPatternPiece.search_text = ''; buildAllSmartSearchComments();" flex>
                                            <md-input-container class="input-container pattern-search-text-input full-width">
                                                <label>Search Text</label>
                                                <input type="text"
                                                       autocomplete="off" ng-model="newPatternPiece.search_text">
                                            </md-input-container>
                                            <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip" md-direction="below">
                                                Search for this value in comment text and tags
                                            </md-tooltip>
                                        </form>

                                        <md-input-container flex class="search-and-filter side-margins">
                                            <label>Filter on Tone</label>
                                            <md-select ng-model="newPatternPiece.tone" flex-gt-xs="30">
                                                <md-option ng-value="option" ng-repeat="option in toneFilterOptions | limitTo: 4 : 0">
                                                    {{option}}
                                                </md-option>
                                            </md-select>
                                        </md-input-container>

                                        <div flex layout="column">
                                            <md-button aria-label="Add new smart search" md-ink-ripple class="md-button md-raised md-accent" md-ripple-size="auto" ng-click="editingPattern.push(getSmartSearchResult(newPatternPiece, state.settings.getSearchResultCount)); newPatternPiece.search_text = ''; buildAllSmartSearchComments(); illToastToThat('Pattern piece added');">
                                                <i class="material-icons inline-icon">extension</i>
                                                <span>Add Pattern Piece</span>
                                                <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip" md-direction="below">
                                                    Adds a new smart search, which will try to find 1 matching sentence
                                                </md-tooltip>
                                            </md-button>
                                        </div>
                                    </div>
                                </div>

                                <br>

                            </md-content>

                        </section>

                        <section ng-hide="editingPattern.length < 1" class="control-card md-background md-hue-3 md-whiteframe-5dp">

                            <md-toolbar class="md-toolbar-tools control-card-toolbar">
                                <h2>
                                    <span ng-show="editingStudentPattern == null">DEFAULT PATTERN</span>
                                    <span ng-hide="editingStudentPattern == null">INDIVIDUAL PATTERN</span>
                                </h2>

                                <span flex></span>

                                <md-menu class="menu">
                                    <md-button ng-click="$mdOpenMenu($event);">
                                        <i class="material-icons inline-icon">menu</i>
                                        <span hide-xs>Menu</span>
                                    </md-button>
                                    <md-menu-content class="menu-content">
                                        <md-menu-item>
                                            <md-button class="md-primary md-hue-1" md-prevent-menu-close ng-disabled="editingPattern.length < 1" aria-label="Remove All Pieces" md-ink-ripple flex md-ripple-size="auto" ng-click="regenerateAllSmartSearch();">
                                                <i class="material-icons inline-icon">autorenew</i>
                                                <span>Regenerate All</span>
                                            </md-button>
                                        </md-menu-item>
                                        <md-menu-item>
                                            <md-button class="md-primary md-hue-1" md-prevent-menu-close ng-disabled="editingPattern.length < 1" aria-label="Reset Comments" md-ink-ripple flex md-ripple-size="auto" ng-click="shuffleSmartSearch()">
                                                <i class="material-icons inline-icon">shuffle</i>
                                                <span>Shuffle Pattern</span>
                                            </md-button>
                                        </md-menu-item>
                                        <md-divider></md-divider>
                                        <md-menu-item ng-hide="editingStudentPattern">
                                            <md-button class="md-primary md-hue-1" ng-disabled="editingPattern.length < 1 || state.students.length < 1" aria-label="Remove All Searches" md-ink-ripple flex md-ripple-size="auto" ng-click="applyGlobalToAll();">
                                                <i class="material-icons inline-icon">group</i>
                                                <span>Apply to All Students</span>
                                            </md-button>
                                        </md-menu-item>
                                        <md-divider></md-divider>
                                        <md-menu-item hide-gt-sm>
                                            <md-button class="md-primary md-hue-1" ng-click="showDialog('/help/patterns-help.html');">
                                                <i class="material-icons inline-icon">help</i>
                                                <span>Help</span>
                                            </md-button>
                                        </md-menu-item>
                                        <md-divider></md-divider>
                                        <md-menu-item>
                                            <md-button class="md-primary md-hue-1" aria-label="Remove All Searches" ng-disabled="editingPattern.length < 1" md-ink-ripple flex md-ripple-size="auto" ng-click="removeAllPatternPieces();">
                                                <i class="material-icons inline-icon">delete</i>
                                                <span>Delete Pattern</span>
                                            </md-button>
                                        </md-menu-item>
                                    </md-menu-content>
                                </md-menu>

                                <md-button hide-xs ng-click="showDialog('/help/patterns-help.html');">
                                    <i class="material-icons inline-icon">help</i>
                                    <!--<span hide-xs>Help</span>-->
                                    <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip" md-direction="left">
                                        Show the help document for Patterns
                                    </md-tooltip>
                                </md-button>

                            </md-toolbar>

                            <md-content class="comment-bank-content md-background md-hue-3" layout="column" layout-fill>

                                <md-subheader class="md-primary md-hue-1 md-background md-hue-3">
                                    <span ng-hide="editingStudentPattern == null">Pattern for {{editingStudentPattern.name}}<br></span>
                                    <span>Pattern length: {{editingPattern.length}}</span>
                                </md-subheader>

                                <table class="comment-bank-table">
                                    <tr ng-repeat="search in editingPattern" ng-style="getAltBackgroundColor($even)" class="multi-student-comment-row repeated-item pattern-piece-row" layout-fill layout-xs="column" layout-sm="column" layout-gt-sm="row">
                                        <td flex-xs flex-sm flex-gt-sm="50">
                                            <md-input-container class="almost-full-width sample-result-input-container" ng-show="search.found_comment">
                                                <label>
                                                    <span ng-hide="editingStudentPattern == null">
                                                        <span ng-show="search.result_count && state.settings.getSearchResultCount">{{search.result_count}} search results for sentence {{$index + 1}}</span>
                                                        <span ng-hide="search.result_count && state.settings.getSearchResultCount">Search result for sentence {{$index + 1}}</span>
                                                    </span>
                                                    <span ng-show="editingStudentPattern == null">
                                                        <span ng-show="search.result_count && state.settings.getSearchResultCount">{{search.result_count}} search result samples for sentence {{$index + 1}}</span>
                                                        <span ng-hide="search.result_count && state.settings.getSearchResultCount">Sample search result for sentence {{$index + 1}}</span>
                                                    </span>
                                                </label>
                                                <textarea ng-model="search.found_comment" readonly
                                                          class="almost-full-width"></textarea>
                                            </md-input-container>
                                            <span ng-hide="search.found_comment" class="no-matches">No matching comments found<br hide-gt-sm><br hide-gt-sm></span>
                                        </td>
                                        <td flex layout="column">

                                            <form ng-submit="resubmitSearch(search, state.settings.getSearchResultCount);  buildAllSmartSearchComments();">
                                                <md-input-container class="input-container full-width">
                                                    <label>Search Text</label>
                                                    <input type="text" autocomplete="off" ng-model="search.search_text">
                                                </md-input-container>
                                            </form>

                                            <div layout-xs="column" layout-gt-xs="row" layout-fill>

                                                <md-input-container flex class="search-and-filter">
                                                    <label>Filter on Tone</label>
                                                    <md-select ng-model="search.tone" md-on-close="resubmitSearch(search);  buildAllSmartSearchComments();">
                                                        <md-option ng-value="option" ng-repeat="option in toneFilterOptions | limitTo : 4 : 0">{{option}}</md-option>
                                                    </md-select>
                                                </md-input-container>
                                            </div>

                                        </td>
                                        <td flex layout-xs="column" layout-sm="row" layout-gt-sm="column">
                                            <md-button aria-label="Regenerate" md-ink-ripple flex class="cursor-pointer full-width" md-ripple-size="auto" ng-click="resubmitSearch(search, false);  buildAllSmartSearchComments();">
                                                <i class="material-icons inline-icon">autorenew</i>
                                                <span>Regenerate</span>
                                                <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip" md-direction="below">
                                                    Regenerate this search result
                                                </md-tooltip>
                                            </md-button>
                                            <md-button aria-label="Remove Pattern Piece" md-ink-ripple flex class="cursor-pointer full-width" md-ripple-size="auto" ng-click="editingPattern.splice($index, 1);  buildAllSmartSearchComments();">
                                                <i class="material-icons inline-icon">delete</i>
                                                <span>Remove</span>
                                                <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip" md-direction="below">
                                                    Clear this search
                                                </md-tooltip>
                                            </md-button>
                                        </td>
                                        <td layout-xs="row" layout-sm="row" layout-gt-sm="column">
                                            <md-button aria-label="Move Up" md-ink-ripple class="cursor-pointer" md-ripple-size="auto" ng-click="movePatternPiece($index, $index - 1);" ng-disabled="$index == 0">
                                                <i class="material-icons inline-icon">arrow_upward</i>
                                                <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip" md-direction="top">
                                                    Move this piece up
                                                </md-tooltip>
                                            </md-button>
                                            <md-button aria-label="Move Down" md-ink-ripple class="cursor-pointer" md-ripple-size="auto" ng-click="movePatternPiece($index, $index + 1);" ng-disabled="$index == editingPattern.length - 1">
                                                <i class="material-icons inline-icon">arrow_downward</i>
                                                <md-tooltip ng-style="state.theme.tooltips" ng-show="state.settings.showTooltips" class="tooltip" md-direction="bottom">
                                                    Move this piece down
                                                </md-tooltip>
                                            </md-button>
                                        </td>
                                    </tr>
                                </table>

                            </md-content>

                        </section>

                    </md-tab-body>
                </md-tab>

            </md-tabs>

        </div>

    </md-content>
    </div>

</body>
</html>